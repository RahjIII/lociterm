1. Dependencies
---------------

Requires libglib2.0-dev, ctags, openssl, cmake, libwebsockets4.4.0, npm, libjson-c-dev

on debian 11-

`apt-get install libglib2.0-dev exuberant-ctags openssl cmake npm libjson-c-dev`

Note that libwesockets in debian 11 is the wrong version!  Gotta get the code from https://libwebsockets.org/repo/libwebsockets

cd ~/othercode
git clone https://libwebsockets.org/repo/libwebsockets
cd libwebsockets
mkdir build
cd build
cmake ..
make
sudo make install

2. Building LOciTerm
--------------------

To build type `make` in this directory.

Then "make install".

"make certs" to make some self signed ones if you don't have real ones.

"make systemd" to make locid run as lociterm.service

Edit the locid.conf config file per the comments.

3. Proxy rules for apache2
--------------------------

To add proxy rules to apache2:
    RewriteEngine on
    RewriteCond %{HTTP:Upgrade} websocket [NC]
    RewriteCond %{HTTP:Connection} upgrade [NC]
    RewriteRule .* "wss://localhost:4005%{REQUEST_URI}" [P]
    ProxyPass /lociterm https://localhost:4005/
    ProxyPassReverse /lociterm https:///localhost:4005/
    ProxyRequests off

